---
description: '210731'
---

# 템플릿 파일 모듈화 하기

## Extends - 화면 메인 영역 모듈화 하기

잠깐 이야기 할것이 있다. 많은 사람들이 오류가 나는 부분, AssertionError: 301 != 200 오류가 나는 사람들이 있을텐데. 강의에서 함수를 잘못 알려준 것 같다.

`models.py`

```python
def get_absolute_url(self):
    return f'/blog/{self.pk}'
    
def get_absolute_url(self):
    return f'/blog/{self.pk}/'
```

* 전자로 되어있으면 오류가 난다. 후자로 바꿔줄 것



post\_detail.html과 post\_list.html은 둘 다 동일한 navigation bar를 사용한다. 문제는, 이를 수정하려면 두번 수정해야 한다는 것. 만약 동일한 bar를 사용하는 html이 10개라면 10번 수정할 것인가?

아니다. 이럴 때는 따로 navigation bar를 관리하는 html을 만들 수 있다. 이를 base.html 이라고 하자

`base.html`

```markup
{% block main_area %}
    (id가 main_area인 태그 코드가 있던 곳)
{% endblock %}
```

기존에 코드를 모두 여기로 붙여넣고 id가 main\_area인 태그의 코드만 잘라낸 뒤 위와 같이 추가한다. 그리고 각각의 템플릿에 다음 코드를 추가하면 된다.

`post_detail.html` `post_list.html`

```markup
{% extends 'blog/base.html' %}

{% block main_area %}
    (id가 main_area인 태그 코드를 잘라내고 여기에 붙여넣는다)
{% endblock %}
```



두 템플릿의 네비게이션 바가 동일해진 모습

![](../../.gitbook/assets/image%20%28729%29.png)



이렇게되면, 네비게이션 바를 수정할 때 base.html만 수정하면 된다. 이것이 바로 모듈화 하는 이유.



또, 타이틀을 다음과 같이 작성해 줄 수 있다.

`base.html`

```markup
<head>
    <title>{% block head_title %}Blog | 상만두의 웹사이트{% endblock %}</title>
    <link href="{%  static 'blog/bootstrap/bootstrap.min.css' %}" rel="stylesheet" type="text/css">
    <script src="https://kit.fontawesome.com/726bbd6862.js" crossorigin="anonymous"></script>
</head>
```

이 코드 뜻은 `Blog | 상만두의 웹사이트` 라고 타이틀을 지정하되, head.title이 있다면 이 것으로 지정하라는 뜻이라고 한다. \(나는 직관적으로 이해가 되지 않는 문법이다...\)

그래서, post\_detail도 수정해주면 된다.

`post_detail.html`

```markup
{% block head_title %}
    {{ post.title }} | Blog
{% endblock %}
```





## Include - 네비게이션바, 푸터 모듈화 하기









