# 6 Sat

## \[HEAD FIRST PYTHON\] 6강 데이터 저장과 취급 <a id="sql"></a>

### 로깅

* 웹앱에서 사용하는 데이터와 관련해 여러 가지 분석과 통계가 있을 수 있다. 이를 위해 데이터를 버리지 말고 저장해야 하며 각 웹 요청 데이터를 로깅해야 한다.

### 파일 IO 메서드

* 데이터를 저장하기 가장 쉬운 방법은 텍스트 파일에 저장하는 것
* `open`, `close`

```python
todos = open('todos.txt', 'a')
print('trash', file=todos)
print('cat feed', file=todos)
print('tax', file=todos)
todos.close()
```

* 이 때 출력은 6줄로 이루어지게 되는데, 파일의 끝의 개행문자와 `print` 의 개행문자 2개를 연이어 읽었기 때문.
  * `print(end='')` 로 선언하면 해결 가능
  * `print(sep='|')` 를 통해 여러 문장을 구분자로 구분해서 저장할 수도 있다.
* `open` 의 옵션
  * 'r' : 읽기 모드
  * 'w' : 쓰기 모드 : 이미 존재하는 파일을 덮어씀
  * 'a' : 추가 모드 : 이미 존재하는 파일 뒤에 씀
  * 'x' : 새로운 파일 : 이미 존재하는 파일이 없어야 작성가능
* `with` 문을 사용해서 `open` 을 편하게 할 수 있으며, 이 때에는 `close` 를 자동으로 하기 때문에 작성하지 않아도 된다.



### 데이터 이스케이프

* 결과를 웹으로 출력할 때 결과가 꺽쇠괄호로 이루어져 있으면 올바르게 출력되지 못한다.
  * &lt;&gt; 로 이루어진 결과가 HTML의 태그라면 해당 태그가 적용된 상태로 출력되며, HTML의 태그가 아니라면 출력되지 않는다.
* 이를 위해 flask에서는 escape 라이브러리를 지원한다.
  * escaping은 html 문자가 html로 해석되지 않고 화면으로 출력될 수 있도록 인코딩해준다.

